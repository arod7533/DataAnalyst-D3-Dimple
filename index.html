<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<script src="http://d3js.org/d3.v3.min.js"></script>
	<script src="http://dimplejs.org/dist/dimple.v2.0.0.min.js"></script>
	<style type="text/css">
	h1	{
		text-indent: 250px;
		font-family: arial;
	}


	</style>

	<script type="text/javascript">
		function draw(data)	{

			/*
				D3.js setup code
			*/

			"use strict";
			var margin = 75,
			width = 1400 - margin,
			height = 600 - margin;

			d3.select("body")  // selects the body of the HTML document
				.append("h1") // append an h1 tag for the title
				.text("Titanic: Male/Female Survival Rate by Passenger Class"); // adds text to the h1 tag

			var svg = d3.select("body") 
				.append("svg") // appends an svg element into the document
					.attr("width", width + margin) // adds attributes to the svg element for width and height
					.attr("height", height + margin)
				.append("g") 
					.attr("class", "chart");


		/*
			Dimple.js chart
		*/

			var myChart = new dimple.chart(svg, data); 
			var x = myChart.addCategoryAxis("x", ["Passenger Class", "Sex"]); // creates an x axis using two data frields as categories
			var y = myChart.addMeasureAxis("y", "Passenger Count"); // creates a y axis using passenger count as a measure
			var s = myChart.addSeries( "Survive" , dimple.plot.bar); // plot a bar charge with survival as a color category
			myChart.addLegend(10, 10, 455, 30, "right"); // add a legend for the color category
			myChart.assignColor("Survived", "#d6f5d6"); // assign green color for survived
			myChart.assignColor("Did Not Survive", "#ffb3b3"); // assign red color for did not survive
			y.showGridlines = false; // remove gridlines 
			myChart.draw(); 
			x.titleShape.text("Passenger Class and Sex (Male/Female)") //change x axis title


		}
	</script>
</head>
<body>
	<script type="text/javascript">
	//Used D3 to lead CSV file and pass contents to draw
	d3.csv("titanic_data.csv", draw)
	</script>
</body>
</html>